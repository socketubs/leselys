<div class="sidebar-nav">
  <ul id="menu" class="nav nav-list sidebar-nav-fixed sidenav-affix" data-spy="affix">
    <li class="divider"></li>
    <center>
      <li id="icons">
        <a href="#" onClick="viewHome()"><i class="icon-home"></i></a>
        <a href="#" id="add"><i class="icon-plus-sign"></i></a>
        <a href="#" onclick="viewSettings()"><i class="icon-wrench"></i></a>
        <a href="https://github.com/socketubs/leselys" target="_blank"><i class="icon-github-alt"></i></a>
        <a href="/logout"><i class="icon-off"></i></a>
      </li>
    </center>
    <li class="divider"></li>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
              <a class="close" data-dismiss="alert" href="#">&times;</a>{{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}

    {% if not feeds %}
      <li style="display:none" class="nav-header feeds-list-title">Feeds</li>
      <li class="empty-feed-list"><center><em>Add your first feed with the little cross icon.</em></center></li>
    {% else %}
      <li class="nav-header feeds-list-title">Feeds</li>
      {% for feed in feeds %}
        
          <li class="feed" id="{{ feed.id }}">

              <div class="btn-group btn-group-right">
                <a id="dropdown-caret" class="dropdown-toggle" data-toggle="dropdown" href="#">
                  <span style="display:none;" id="feed-caret" class="caret"></span>

                </a>
                <ul class="dropdown-menu">
                    <li>
                      <a onClick="setFeedSetting(&quot;{{ feed.id }}&quot;, &quot;ordering&quot;, &quot;published&quot;)" href="#">
                      {% if feed.ordering == 'published' %}
                        <i id="feed-ordering-published" class="icon-ok"></i>
                      {% else %}
                        <i id="feed-ordering-published"  class="icon-empty"></i>
                      {% endif %}

                      Sort by published</a></li>
                    <li>
                      <a onClick="setFeedSetting(&quot;{{ feed.id }}&quot;, &quot;ordering&quot;, &quot;normal&quot;)" href="#">

                      {% if feed.ordering == 'normal' %}
                        <i id="feed-ordering-normal" class="icon-ok"></i>
                      {% else %}
                        <i id="feed-ordering-normal" class="icon-empty"></i>
                      {% endif %}
                      Sort by unread</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a onClick="deleteFeed(&quot;{{ feed.id }}&quot;)" href="#">
                      <i class="icon-empty"></i>Remove feed</a>
                    </li>
                </ul>
              </div>
      
              <a  onClick="viewFeed(&quot;{{ feed.idÂ }}&quot;)" href="/#{{ feed.id }}">
                <div id="feed-link" class="ellipsis">
                  {{ feed.title }} 
                </div>

                {% if feed.counter > 0 %}
                  <span class="badge badge-inverse unread-counter">{{ feed.counter }}</span>
                {% else %}
                  <span style="display: none" class="badge badge-inverse unread-counter">{{ feed.counter }}</span>
                {% endif %}
              </a>
          </li>

      {% endfor %}
      <li class="empty-feed-list" style="display: none"><center><em>Add your first feed with the little cross icon.</em></center></li>
    {% endif %}
  </ul>
</div>


<script type="text/javascript">
    $(document).ready(function(){
      $('.nav>li:hover, .nav>li').mouseenter(function() {
          $(this).find('span#feed-caret').show(); 
      }).mouseleave(function() {      
          $(this).find('span#feed-caret').hide();
      });
    });
</script>

